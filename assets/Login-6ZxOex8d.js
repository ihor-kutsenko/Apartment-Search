import{m as C,_ as c,a as o,o as p,h as V,d as a,e as d,b as e,f as w,c as F}from"./index-upleIQY3.js";import{C as b,A,a as S}from"./AuthSection-wOCXLZqo.js";import{C as x,e as y,p as B,i as L}from"./validationRules-7Er76OWK.js";import{B as R}from"./Button-gHuKnLaP.js";import{T as D}from"./Title-iIQVEMoZ.js";const I={name:"LoginForm",components:{CustomForm:b,CustomInput:x,Button:R,AuthContainer:A,Title:D},data(){return{loading:!1,formData:{email:"",password:""}}},computed:{rules(){return{emailValidation:y,passwordValidation:B,isRequired:L}},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired]}},methods:{...C("auth",["loginUser"]),async handleSubmit(){const{form:n}=this.$refs;if(n.validate())try{this.loading=!0,await this.loginUser(this.formData),this.$router.push({name:"HomePage"}),n.reset()}catch(l){this.$notify({type:"error",title:"Error",text:l.message})}finally{this.loading=!1}}}};function T(n,t,l,_,s,r){const m=o("Title"),i=o("CustomInput"),f=o("Button"),g=o("CustomForm"),h=o("AuthContainer");return p(),V(h,{class:"login"},{default:a(()=>[e(m,{class:"login__title"},{default:a(()=>[d("Login")]),_:1}),e(g,{ref:"form",onSubmit:w(r.handleSubmit,["prevent"]),class:"login__form"},{default:a(()=>[e(i,{modelValue:s.formData.email,"onUpdate:modelValue":t[0]||(t[0]=u=>s.formData.email=u),placeholder:"Email",name:"email",rules:r.emailRules,class:"login__input"},null,8,["modelValue","rules"]),e(i,{modelValue:s.formData.password,"onUpdate:modelValue":t[1]||(t[1]=u=>s.formData.password=u),placeholder:"Password",type:"password",name:"password",rules:r.passwordRules,class:"login__input"},null,8,["modelValue","rules"]),e(f,{type:"submit",class:"login__button",loading:s.loading},{default:a(()=>[d("Login")]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1})}const $=c(I,[["render",T],["__scopeId","data-v-db4dd194"]]),v={name:"SignInPage",components:{LoginForm:$,AuthSection:S}},U={class:"login"};function k(n,t,l,_,s,r){const m=o("LoginForm"),i=o("AuthSection");return p(),F("main",U,[e(i,null,{default:a(()=>[e(m)]),_:1})])}const M=c(v,[["render",k]]);export{M as default};
